{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}Solar Weather App - API{% endblock %}

<h1>Weather Data - Last 7 Days</h1>
<table class="table table-hover">
  <thead class="thead-dark">
  <tr>
    {% for metric in weather_metrics %}
      {% if metric.id in columns %}
        <th scope="col"> {{ metric.name }}
          {% if metric.unit %}
            ({{ metric.unit }})
          {% endif %} </th>
      {% endif %}
    {% endfor %}
  </tr>
  </thead>
  <tbody>
    {% for values in weather_values %}
      <tr>
        {% for measure, value in values.items %}
          <td>{{ value }}</td>
        {% endfor %}
      </tr>
    {% endfor %}
  </tbody>
</table>

  {% for error, alert in metric_errors %}
  Metric Error: {{ alert }}<br/>
  {% empty %}
  {% endfor %}
  {% for error, alert in value_errors %}
  Value Error: {{ alert }}<br/>
  {% empty %}
  {% endfor %}
  {% endblock %}
